package com.zyrtec.pianoTuning.controller{	import com.bigspaceship.events.AnimationEvent;	import com.bigspaceship.utils.Out;	import com.greensock.TweenMax;	import com.greensock.easing.Back;	import com.greensock.plugins.AutoAlphaPlugin;	import com.greensock.plugins.TweenPlugin;	import com.greensock.plugins.VisiblePlugin;	import com.zyrtec.pianoTuning.model.PTModel;		import flash.display.MovieClip;	import flash.display.Sprite;	import flash.events.EventDispatcher;	import flash.events.IEventDispatcher;	import flash.events.TimerEvent;	import flash.utils.Timer;
		public class PTGameOverMessage extends EventDispatcher	{		public var view		:MovieClip;		public var extra	:MovieClip;		public var num		:Sprite;		private var _timer	:Timer;		private const __I	:Number = 1000;		private var _yOrig	:Number;				// =================================================		// ================ @Callable		// =================================================				public function showGameOver():void{			_yOrig = view.y;			animateIn();			_timer.start();					}		// =================================================		// ================ @Workers		// =================================================		private function _init():void		{			Out.info(this, "init");			TweenPlugin.activate([VisiblePlugin]);			TweenPlugin.activate([AutoAlphaPlugin]);						_timer	= new Timer(__I);			_timer.addEventListener(TimerEvent.TIMER, _animateOut);						view.visible = false;		}		private function _removeExtra():void{			if (extra) {				view.removeChild(extra);				extra = null;			}					}		// =================================================		// ================ @Handlers		// =================================================		// =================================================		// ================ @Animation		// =================================================		private function animateIn():void{						TweenMax.to(view, .5,{scale: 1, autoAlpha:1, y: _yOrig+50, onComplete:_onAnimateIn, ease: Back.easeOut});		}		private function _onAnimateIn():void{			_timer.start();			dispatchEvent(new AnimationEvent(AnimationEvent.IN));		}		private function _animateOut($e:TimerEvent = null):void{				//oc: todo: tween out.			TweenMax.to(view, .5,{scale: .5, alpha:0, visible: false, y: _yOrig, onComplete:_onAnimateOut, ease: Back.easeOut});			_timer.reset();					}		private function _onAnimateOut():void{			_removeExtra();			dispatchEvent(new AnimationEvent(AnimationEvent.OUT));		}		// =================================================		// ================ @Getters / Setters		// =================================================				// =================================================		// ================ @Interfaced		// =================================================				// =================================================		// ================ @Core Handler		// =================================================				// =================================================		// ================ @Overrides		// =================================================				// =================================================		// ================ @Constructor		// =================================================		public function PTGameOverMessage($mc:MovieClip, target:IEventDispatcher=null)		{			super(target);			view 	= $mc;			_init();					}//end constructor			}//end class}//end package