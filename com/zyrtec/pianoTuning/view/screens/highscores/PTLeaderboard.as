package com.zyrtec.pianoTuning.view.screens.highscores {	import com.bigspaceship.utils.Out;	import com.theginbin.ui.RollOverButton;	import com.theginbin.utils.TimeConverter;	import com.zyrtec.analytics.Tracking;	import com.zyrtec.events.ZyrtecGameEvent;	import com.zyrtec.kiteflying.utils.FacebookHelper;	import com.zyrtec.model.MiniGameModel;	import com.zyrtec.pianoTuning.model.PTModel;	import com.zyrtec.view.Leaderboard;		import flash.display.MovieClip;	import flash.events.MouseEvent;	import flash.events.TimerEvent;	import flash.external.ExternalInterface;	import flash.net.URLRequest;	import flash.net.navigateToURL;
	public class PTLeaderboard extends Leaderboard	{		/*//leaderboad clip contains the following:		public var txtTimeComplete:MovieClip;		public var txtStars:MovieClip;		public var txtMinutes:MovieClip;		public var txtYourRank:MovieClip;		public var btnFBShare:MovieClip;		public var star1:MovieClip;		public var star2:MovieClip;		public var star3:MovieClip;		public var btnPlayAgain:MovieClip;		public var btnBack:MovieClip;*/		//		private var	_model:PTModel;	// Game Model //		private var leaderboardClip:MovieClip; //view//		private var _playerArray:Array; // holds player info from leaderboard callback//		private var _playerHolder:Sprite; //container clip for leaderboard player clips								// =================================================		// ================ @Callable		// =================================================				//FUNCTION : SET THE LEADERBOARD STATIC TEXT		override public function setStaticText():void {						if (model.uid!="-1") { //gray these out				leaderboardClip.signupAreaMC.alpha = 0.4;			}						if (playerHolder.numChildren>0) { //clear out the leaderboard data before this animates in				var clip:MovieClip;				for (var i:uint = 0; i < playerHolder.numChildren; i++) {					clip = MovieClip(playerHolder.getChildAt(i));					clip.visible = false;					clip = null;				}			}						leaderboardClip.txtLoading.alpha = 1;			leaderboardClip.txtTimeComplete.txt.autoSize = "right";						leaderboardClip.txtTimeComplete.txt.text 	= model.score;			leaderboardClip.longestStreakMC.tf.text		= PTModel.getInstance().longestStreak;//sometimes you have to cheat.						//display stars earned 			leaderboardClip.txtMinutes.txt.autoSize = "left";			leaderboardClip.txtStars.txt.autoSize = "left";						if (model.score > 16) { //3 stars				leaderboardClip.star1.gotoAndStop(2);				leaderboardClip.star2.gotoAndStop(2);				leaderboardClip.star3.gotoAndStop(2);				leaderboardClip.txtMinutes.txt.text = model.score + " notes";				leaderboardClip.txtStars.txt.text = "3 stars";				model.stars = 3;			} else if (model.score > 6){ //2 stars				leaderboardClip.star1.gotoAndStop(2);				leaderboardClip.star2.gotoAndStop(2);				leaderboardClip.txtMinutes.txt.text = model.score + " notes";				leaderboardClip.txtStars.txt.text = "2 stars";				model.stars = 2;			} else if (model.score >=1){ //1 star				leaderboardClip.star1.gotoAndStop(2);				leaderboardClip.txtMinutes.txt.text = model.score + " notes";				leaderboardClip.txtStars.txt.text = "1 star";				model.stars = 1;			} else if (model.score == 0){ //0 stars				leaderboardClip.txtMinutes.txt.text = model.score + " notes";				leaderboardClip.txtStars.txt.text = "0 star";				model.stars = 0;			}					}//end function setStaticText		// =================================================		// ================ @Workers		// =================================================				// =================================================		// ================ @Handlers		// =================================================		override public function onFacebookShareClick($me:MouseEvent):void		{					Out.status(this, "facebook share click");			var url:String = FacebookHelper.pianoShareURL(model.score.toString(),model.stars, model.shareURL, model.badgeURL);			Out.info(this, 	url);			if (ExternalInterface.available){				ExternalInterface.call("openPopup", url, "ShareFacebook", Leaderboard.POP_UP_WIDTH, Leaderboard.POP_UP_HEIGHT);			}else navigateToURL(new URLRequest(url));						//oc: tracking			Tracking.track(Tracking.L3_SHARE_IVORYTICKLER); 				}//end function 				override public function onPlayAgainClick(e:MouseEvent):void{ //restart the game, go to next system state						RollOverButton(leaderboardClip.btnPlayAgain).removeEvents();			leaderboardClip.btnPlayAgain.removeEventListener(MouseEvent.CLICK, onPlayAgainClick);			dispatchEvent(new ZyrtecGameEvent(ZyrtecGameEvent.PLAY_AGAIN));					//oc: tracking			Tracking.track(Tracking.L3_GAME_PIANO_PLAYAGAIN);					}//end function				// =================================================		// ================ @Animation		// =================================================		// =================================================		// ================ @Getters / Setters		// =================================================				// =================================================		// ================ @Interfaced		// =================================================				// =================================================		// ================ @Core Handler		// =================================================				// =================================================		// ================ @Overrides		// =================================================				// =================================================		// ================ @Constructor		// =================================================		public function PTLeaderboard(leaderboardClipMC:MovieClip, gameModel:MiniGameModel)		{			super(leaderboardClipMC, gameModel);		}									}//end class}//end package